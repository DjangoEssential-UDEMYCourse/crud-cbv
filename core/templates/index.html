{% extends 'base.html' %}
{% load humanize %}
{% block content %}

<div class="container">
    <h1 class="pull-left">Produtos</h1>
    <a class="pull-right" href="{% url 'add-produto' %}" style="margin-top: 5px">
        <button class="btn btn-primary " type="button">
            Novo Produto
        </button>
    </a>

</div>
<table class="table table-striped table-hover table-condensed">
    <thead>
    <tr>
        <th scope="col">#</th>
        <th scope="col">Nome</th>
        <th scope="col">Preço</th>
        <th scope="col">
            <div style="text-align: end;">Ação</div>
        </th>
    </tr>
    </thead>
    <tbody>
    {% for produto in page_obj %}
    <tr>
        <td scope="row">{{ produto.id }}</td>
        <td scope="row">{{ produto.nome }}</td>
        <td scope="row">R$ {{ produto.preco|intcomma }}</td>
        <td scope="row">
            <div class="pull-right">
                <a class="btn btn-primary " href="{% url 'update-produto' produto.pk %}">Editar</a>
                <a class="btn btn-info" href="{% url 'delete-produto' produto.pk %}">Deletar</a>
            </div>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>

{% if is_paginated %}
<nav aria-label="paginacao-navegacao">
    <ul class="pagination">
        {% if page_obj.has_previous %}
            <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">&laquo;</a></li>
        {% else %}
            <li class="page-item disabled"><a class="page-link" href="#">&laquo;</a></li>
        {% endif %}

        {% for num in paginator.page_range %}
            {% if page_obj.number  == num %}
                <li class="page-item active"><a class="page-link" href="#">{{ num }}</a></li>
            {% else %}
                <li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
            {% endif %}
        {% endfor %}

        {% if page_obj.has_next %}
            <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">&raquo;</a></li>
        {% else %}
            <li class="page-item disabled"><a class="page-link" href="#">&raquo;</a></li>
        {% endif %}
    </ul>
</nav>
{% endif%}

{% endblock %}